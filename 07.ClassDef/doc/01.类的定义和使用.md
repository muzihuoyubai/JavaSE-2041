# 预备知识

* c语言基础

# 课程结构

运用本次课学习的内容，就可以编写解决大部分计算问题的程序了。

主要介绍分支、循环结构的语法，以及java在使用方法时的一些规则，大部分和c语言类似。在c语言基础上理解并掌握java相关的语句要怎么写。方法重载的概念在c语言中是没有的，需要掌握。

# 学习目标

- 了解类和对象的概念
- 学会如何定义类，创建对象
- 了解类的编译

# 类和对象概念

## 对象

对象（object）是一组数据的集合。比如身高2米的大象和身高3米大象分别代表了两组数据的集合，分别是2米和3米。我们可以把这两组数据集合称为两个对象。对象1表示2米的数据，对象2表示3米的数据。

## 类

上面两个对象代表了同一类事物，都是有身高和鼻子长度两个属性，只是对象中每个属性的数据不同，这类对象的属性提取出来成为一个模板，就是大象类。大象类具备身高和鼻子长度两个属性。可以根据模板来构建多个带有具体数据的对象，上面的对象1和对象2叫做大象类的实例(instance)。

类（class）可以被看做是相同类型对象的模板，是java程序的最小单位，一个java程序至少由一个类构成。

## 成员变量

通过构建不同的类，在程序中创建一个个类的实例即对象来保存数据。对象所保存的数据都是存在变量中，这些变量的数据类型都是在类中进行定义。这些变量被称作类的成员变量(field)通常也会被叫做成员、属性、域、字段

## 方法

java中的方法(method)和c语言函数类似，是一系列语句的集合，java的方法归属于类中，用来描述对象之间的交互行为，通常程序需要创建多个不同类的实例对象，通过这些对象共同完成功能，使用方法来完成对象之间的数据交互。通常对象之间的数据彼此独立，通过方法来访问数据，或进行数据运算以及其他的功能。

## 类、对象、成员变量、方法的关系

编写java程序首先要构建类，类是数据的保存模板，通过模板创建出来的具体数据的集合，就是对象。对象是根据类实例化出来的，保存了具体的一组数据。类由成员变量和方法两部分组成，成员变量用来描述对象可以保存哪些数据，方法用来描述对象间如何交互。对象之间彼此调用方法完成数据的处理。

# 类的定义语法

使用`class`定义一个类，类中可以包含多个成员变量。习惯上把成员变量定义在类的头部，接着定义方法。所有的成员变量和方法都需要定义在class 的大括号中，不能放到class外面。

语法描述

```
class 类名 {
    数据类型 变量名;
    ...
    
    返回值数据类型 方法名(参数列表){
        
    }
    ...
    
}
```

代码示例

```
class Person {

  String name; // 注意使用 ; 结尾
  int age;

  void sleep() {
    System.out.println("sleep...");
  }
}
```

# 类的使用

使用类来创建对象，或者说实例化这个类

## 类的实例化

使用new来根据类创建对象，使用类作为数据类型来定义一个引用对象的变量，使用`.`的方式访问对象的成员和方法
使用方法的时候注意根据方法的参数列表传入参数

语法描述

```
类名 变量名 = new 类名(); // 注意类名后面有()
变量.成员变量名;  // 获取到该对象的成员变量内容，或者修改其内容
变量.方法名(参数);
```

代码示例

```
public static void main(String[] args) {
    Person onePerson = new Person();
    onePerson.age = 20;
    onePerson.name = "Tom";
    onePerson.sleep();  // sleep...
}
```

## 成员变量默认初始化

之前提到在方法中定义的变量如果没有显示的赋值，是不能够被使用的，使用未被初始化的局部变量给其他变量赋值，或者作为参数传入方法，编译报错。类中的成员变量在类创建的时候，会被默认赋一个初始值，基本数据类型中数值数据类型为0，boolean数据类型为false，引用数据类型是null。对于成员变量，可以不显式的赋值直接被使用。

## 成员变量的访问

在其他类中，可以通过`对象.`的方式访问成员变量，在类的内部，方法中可以直接通过成员变量名来访问这个成员变量的存储区域。

## 类编译运行的一些规则

1. javac 编译的时候，首先检查所有的文件引入的类是否有重名，如果有就报错
2. 同一个源文件中可以定义多个类，javac编译后根据类生成对应的类文件，类文件名和类名一致，和源文件名无关。
3. 一个源文件中只能有一个public的class，如果一个class是public的，则class的名字必须和文件名一致
4. 编译一个类时，当内部发现使用到其他类，将会根据类名去找对应的类名.class 文件，如果找到了，还会继续找对应的类名.java文件，找到后检查java文件的更新时间是否在class文件的更新时间之后，如果java文件比较新，将会重新编译这个java文件生成新的类名.class文件，否则使用旧的class文件。
   - 如果找到了类名.class文件但是没有找到类名.java文件，则直接使用当前的类名.class文件。
   - 如果找不到类名.class文件，如果找到了类名.java文件，则编译生成class文件，如果也找不到类名.java文件，则会报错
